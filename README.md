# AI コーディングガイド

## 実践的な AI ペアプログラミングガイド

AI アシスタント（Claude Code / Cline）と効果的に協働する方法を実践的に学ぶプロジェクト集です。

### 🎯 目的

- AI アシスタントと効果的に協働する方法を学ぶ
- 実践的なプロジェクトを通じて AI コーディングのコツを習得
- AI の得意・不得意を理解し、適切な指示を出せるようになる

### 📚 対象読者

- プログラミング初心者〜中級者
- AI ツールを使ったコーディングに興味がある方
- 効率的な開発手法を学びたい方

## 各プロジェクトの作成指示

### 00-setup: 環境構築

**指示**:

```
このプロジェクトでは、AIコーディングのためのトレーニング教材やデモを作成します。
最初のものを作ってみる。名前は 00-setup です。ESModuleでvitestが実行できる設定を構築してください。src/index.test.ts を作成してpnpm test が動作することを確認して。README.md にユーザーがその状態まで辿り着けるステップを記述してください。

guides/00-setup.md は claude-code または vscode+cline のセットアップ手順を含む。
```

**結果**: TypeScript + Vitest の基本的なプロジェクトセットアップ

### 01-dijkstra: アルゴリズム実装

**指示**:

```
01-dijkstra.md を作ろう。ネットワーク上の経路を探索するアルゴリズムをAIに書かせてみよう。
サンプルのネットワークを mermaidを記述させるとか、その結果からaiがダイクストラ法を生成、みたいなガイドになる。
vitest でテストをする。
```

**結果**: ダイクストラ法による最短経路探索アルゴリズムの実装とテスト

### 02-todo: データベースアプリケーション

**指示**:

```
02-todo を作成する。 node:sqlite で CRUD を作成し、そのCLIを作るという例。
使ったことない環境をセットアップするのはハルシネーションしやすいが、既知のアルゴリズムは精度高く実装できるという例。

02-todo, DB を作成して、そのテストをするというのを最初のステップにする。その後CLIを追加。

src_v2 を作って、prisma と sqlite を初期化するようにしよう。リポジトリパターンで、sqliteとprisma どちらでも実装できるようにする。環境変数 DB_TYPE=prisma|sqlite で切り替える。
```

**結果**: node:sqlite を使った Todo アプリ CLI、後に Prisma でのリポジトリパターン実装

### 02-typescript-execution: TypeScript 実行パターン

**指示**:

```
実践から学ぶ typescript の問題として、実行パターンが多すぎることを挙げておきます。
「なぜ動かない」への回答が膨大になりすぎてる。

guides/02-typescript-execution.md を新規作成してください。
```

**結果**: TypeScript の様々な実行方法（tsc、ts-node、tsx、Bun、Deno）の解説

### 03-ink-game: ターミナルゲーム

**指示**:

```
03 を作成する。03-game です。React Ink で対話的な環境を作ろう。
クリッカーゲームを作る。space で数字が増える。s で save、ctrl+c で終了。

React Ink でローグライクとしプレーヤーを可視化。グリッド10x10で、X がプレイヤーとし、移動すると座標が変わる。

01-dijkstra のアルゴリズムを使う形で、敵を実装しよう。敵は # で、最初に 4,8 に配置。プレイヤーは 0,0からスタート、ダイクストラ法を使ってプレーヤーに1ターンごとに近づく
```

**結果**: React Ink でクリッカーゲームからローグライクゲームへ発展、ダイクストラ法を敵 AI に活用

### 04-mcp: MCP サーバー実装

**指示**:

```
04-mcp を作る。Claude Code で扱える MCPをサーバー自体を作るサンプルとする。

mcp を生成するときには簡単エコーサーバーと MCP クライアントをセットで生成する、という指示を出す。
https://github.com/modelcontextprotocol/typescript-sdk を参考にする例をだす。AIは情報が遅いので、 registerTool を学習していないという例を出す。
```

**結果**: Model Context Protocol サーバーの実装、ファイル操作ツールの提供

### 05-survivor-game: React + SVG ゲーム

**指示**:

```
05-suvivor-game を作る。React + SVG で Vampire Survivor みたいなゲームを作る。vite を使って、全方位から敵が迫ってくる。SVGのクリップでカメラ操作をする。プレーヤーから自動で弾が発射され、敵を倒すと経験値が落ちる。経験値を拾ってレベルアップして、弾数や、弾の威力、弾の飛距離がランダムで強化される。

カーソルキーで移動できるようにする。ウェブサイト全体のマージンを 0 にして、移動しないように。
カメラは常にプレーヤーを中心にする。
```

**結果**: Vampire Survivors 風の全方位シューティングゲーム、SVG でグラフィックス実装

### 06-typechecker: 型チェッカーの実装

**指示**:

```
06-typechecker を追加しよう。型チェッカーとHM型推論をTypeScriptで実装する
```

**結果**: Hindley-Milner 型推論アルゴリズムを実装した型チェッカー、let 多相をサポート

### 07-real-world: 実践的なプロジェクト

**指示**:

```
07-real-world を追加する。 02-todo の prisma をベースとするが、 CLAUDE.md で綿密にプロンプトを記述して、oxlint で linter や github workflow を記述する。これは例外的にこのプロジェクトルートの .github/workflows/07-test.yaml を生成していい
```

**結果**: CLAUDE.md による詳細プロンプト、oxlint によるコード品質管理、GitHub Actions による CI/CD を含む実践的なプロジェクト

![alt text](images/07-first.png)

## 学習のポイント

### AI が得意なこと

- 既知のアルゴリズム実装（ダイクストラ法など）
- ボイラープレートコードの生成
- 基本的な CRUD 操作

### AI が苦手なこと

- 環境セットアップ（ハルシネーションしやすい）
- GUI の視覚的な調整（フィードバックループが必要）
- 最新の API や仕様（学習データが古い場合）

### 効果的な指示の出し方

1. **具体的で段階的な指示**: 大きなタスクを小さく分割
2. **コンテキストの提供**: 使用する技術スタックを明確に
3. **エラーの正確な報告**: 「動かない」ではなく具体的な症状を
4. **参考資料の提示**: 公式ドキュメントの URL など

## プロジェクト構成

```
ai-coding-guide/
├── guides/          # 各プロジェクトのガイド
│   ├── 00-setup.md
│   ├── 01-dijkstra.md
│   ├── 02-todo.md
│   ├── 02-typescript-execution.md
│   ├── 03-game.md
│   ├── 04-mcp.md
│   ├── 05-survivor-game.md
│   ├── 06-typechecker.md
│   └── 07-real-world.md
├── examples/        # 実装例
│   ├── 00-setup/
│   ├── 01-dijkstra/
│   ├── 02-todo/
│   ├── 03-ink-game/
│   ├── 04-mcp/
│   ├── 05-survivor-game/
│   ├── 06-typechecker/
│   └── 07-real-world/
```

## 使い方

1. 各 `guides/` のマークダウンファイルを読んで概要を理解
2. `examples/` の対応するディレクトリで実装を確認
3. 同じ指示を AI に出して、自分でも実装してみる
4. うまくいかない場合は、ガイドのトラブルシューティングを参照

## 💡 AI コーディングの基本原則

### 1. 明確で具体的な指示

```
❌ 悪い例: "関数を作って"
✅ 良い例: "src/math.tsにadd(a: number, b: number): numberを実装して"
```

### 2. 段階的なアプローチ

```
1. 小さなタスクに分割
2. 動作確認しながら進める
3. エラーが出たら原因を明確に伝える
```

### 3. コンテキストの提供

```
- 使用する技術スタック
- プロジェクトの構造
- 期待する動作
```

## ⚠️ よくある問題と対処法

### 1. TypeScript の実行パターン

**問題**: Node.js の歴史的経緯により実行方法が多岐にわたる

**解決策**:
```
明確に実行ツールを指定:
- 開発時: "tsxを使用して"
- 本番時: "tscでビルド後、nodeで実行"
```

### 2. ESModule のエラー

**問題**: `Cannot use import statement outside a module`

**解決策**:
```json
// package.json
{
  "type": "module"
}
```

### 3. 環境依存の問題

**問題**: AI が古い設定や非推奨の方法を提案

**解決策**: バージョンや設定を明確に指定

## 🔑 成功のコツ

### 1. AI の得意分野を活用

✅ 得意なこと:
- 既知のアルゴリズムやパターン
- ボイラープレートコード
- テストケースの生成

❌ 苦手なこと:
- 最新の API や仕様
- プロジェクト固有の要件
- 複雑な環境設定

### 2. フィードバックループ

```
1. 指示を出す
2. 結果を確認
3. エラーがあれば修正を指示
4. 動作確認
```

### 3. 段階的な複雑性

- シンプルな実装から始める
- 動作を確認しながら機能追加
- リファクタリングで品質向上

## 🎯 まとめ

### AI コーディングで重要なこと

1. **明確な指示** - 曖昧さを避ける
2. **段階的開発** - 小さく始めて大きく育てる
3. **適材適所** - AI の得意・不得意を理解
4. **継続的改善** - フィードバックを活かす

### 次のステップ

- 実際のプロジェクトで実践
- より複雑な課題に挑戦
- チーム開発での活用

## 🚀 Let's Start Coding with AI!

AI と一緒に、より効率的で楽しいコーディングを始めましょう！

### Remember:

> "AI は優秀なペアプログラマー。
> でも、あなたがドライバーです。"
