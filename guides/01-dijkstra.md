# 01-dijkstra: ダイクストラ法による最短経路探索

このガイドでは、AIアシスタントと協力してダイクストラ法を実装し、グラフ上の最短経路を見つけるプログラムを作成します。

## 学習目標

- AIが既知のアルゴリズムの実装に優れていることを体験する
- 複雑なデータ構造とアルゴリズムの実装方法を学ぶ
- テストケースの設計方法を理解する

## 前提知識

ダイクストラ法は、重み付きグラフにおいて、ある頂点から他のすべての頂点への最短経路を求めるアルゴリズムです。

## ステップ1: プロジェクトのセットアップ

AIへの指示例:
```
examples/01-dijkstraディレクトリを作成し、TypeScriptプロジェクトをセットアップしてください。
00-setupと同様の構成（TypeScript、Vitest、ESModule）でお願いします。
```

## ステップ2: グラフのデータ構造を定義

AIへの指示例:
```
src/graph.tsファイルを作成し、以下の型定義とクラスを実装してください：

1. Node型: グラフのノードを表す（id: string）
2. Edge型: エッジを表す（from: string, to: string, weight: number）
3. Graphクラス: 
   - addNode(id: string): void
   - addEdge(from: string, to: string, weight: number): void
   - getNeighbors(nodeId: string): Array<{node: string, weight: number}>
```

### ポイント
- 具体的な型定義を提供する
- メソッドのシグネチャを明確に指定する
- グラフの表現方法（隣接リスト）を暗黙的に示す

## ステップ3: ダイクストラ法の実装

AIへの指示例:
```
src/dijkstra.tsファイルを作成し、ダイクストラ法を実装してください：

関数シグネチャ:
dijkstra(graph: Graph, startNode: string): Map<string, {distance: number, path: string[]}>

返り値は各ノードへの最短距離とそのパスを含むMapです。
到達不可能なノードはdistance: Infinityとしてください。
```

### ポイント
- アルゴリズム名を明確に指定（AIは有名なアルゴリズムをよく知っている）
- 入出力の形式を具体的に定義
- エッジケース（到達不可能なノード）の扱いを明記

## ステップ4: テストケースの作成

AIへの指示例:
```
src/dijkstra.test.tsを作成し、以下のテストケースを実装してください：

1. 単純な一直線のグラフ（A→B→C）
2. 複数の経路があるグラフ（最短経路を正しく選択するか）
3. 到達不可能なノードがあるグラフ
4. 単一ノードのグラフ
5. サンプルとして、以下のグラフもテストしてください：
   A --(4)-- B
   |         |
  (2)       (1)
   |         |
   C --(5)-- D
   |
  (1)
   |
   E
```

### ポイント
- 様々なケースを網羅的にテストする
- 具体的なグラフ構造を図で示す
- エッジケースを忘れずに含める

## ステップ5: 実用的な例の作成

AIへの指示例:
```
src/example.tsを作成し、実際の使用例を実装してください：
都市間の最短経路を求める例
- 東京、大阪、名古屋、福岡、仙台の5都市
- 適当な距離でエッジを作成
- 東京から各都市への最短経路を表示
```

## 学んだこと

1. **AIの得意分野**
   - 有名なアルゴリズムの実装は正確で効率的
   - データ構造の設計も適切に行える

2. **効果的な指示方法**
   - アルゴリズム名を明確に伝える
   - 入出力の形式を具体的に指定
   - テストケースで要件を明確化

3. **複雑な問題への対処**
   - 段階的に実装を進める（データ構造→アルゴリズム→テスト）
   - 視覚的な表現（グラフの図）を活用

## 発展課題

- 負の重みを持つエッジへの対応（ベルマン・フォード法）
- 優先度付きキューを使った最適化
- 可視化ツールの作成